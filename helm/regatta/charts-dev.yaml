apiVersion: v1

name: regatta
namespace: regatta

charts:
- .:
    values:
      mode: leader
      image:
        tag: {{ env "TAG" | default "latest" | quote }}
      externalLoadBalancer:
        externalDomain: reg.dev.wandera.co.uk
        loadBalancerSourceRanges:
        - "89.197.44.224/29" #London Office
        - "185.219.166.114/32" #Brno Office Rozmaryn
        - "85.93.123.11/32" #Brno Office Moravak
        - "54.246.181.160/32" # VPN
        - "52.49.97.209/32" # Access project OSS
        - "52.30.177.178/32"  # jes-101-dev.eu-west-1a.ie.wandera.co.uk
        - "3.248.238.76/32" # jes-201-dev.eu-west-1a.ie.wandera.co.uk
        - "54.77.204.198/32" # jes-202-dev.eu-west-1a.ie.wandera.co.uk
      reflectionAPI:
        enabled: true
      affinity:
        podAntiAffinity:
          topologyKey: kubernetes.io/hostname
      persistence:
        storage:
          storageClassName: ebs-gp3-zone-agnostic
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 200Gi
      resources:
        requests:
          cpu: 1.2
        limits:
          cpu: 2
      raft:
        initialMembers: "1=regatta-0.regatta.regatta.svc.cluster.local:5012,2=regatta-1.regatta.regatta.svc.cluster.local:5012,3=regatta-2.regatta.regatta.svc.cluster.local:5012"
        heartbeatRTT: 1
        electionRTT: 20
        snapshotEntries: 100000
        compactionOverhead: 200000
      kafka:
        brokers: kafka-core.int.dev.wandera.co.uk:9091
        groupID: regatta-dev-0-tables
        tls: true
        serverCert: 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
        clientCert: AgAQVoNg1qRKuL1JVu7Sf6rnSE+oUvfAF+1ZPxLLNgrC3SHflqb2BIN+jCy8q6pUF9T3e1IMUDQF8ItWJIfpOok+NbTV4nyVhyY9lA7ozbFBcCUugGocM52SwtsKaQvL0gD0Xt0FFDFJPyNL9BQ5vMtCjGureb1V5BAZXYmzhMvY0ijwL9WdlAylkjGy5MzeL0yk7WWqKMkcCcsWTpxWzRoeQxz9vCXrTsleefNDSBnHZ/mC0xVKN2G0plqoNPqjg6TfBSA7a0lPx+MxnyLa9biqkbBmbHidWIeBiqoCg4OlzXcPRwXl4zmngRDDhW3YvZZlbWW0lPJ7hHTW1jHhw9lr6o0WGzmHzNpPxxekRVal9XN8ivLBjzdvhJ3cs/8NR3W3vuIdAbYiN3TuCetCuA/uEISE7U7TnIvcEtQOHbLpMQ596pcNZ+2db+Vf8A4riztpJMDvqs4PSqcc1ZI2uIYBCyhLeHghlIGwayU6n1PU9Yxe2UeJ/zXGo5m1lYzg62XfN63osxmbmp0GOg61BKwNQM/PSNJjj/P0lPJQbg+/qbt26LeZh1DqkedqtckeeKfJ/RehwADrgl/RJ2iiXv+K5CTRQkJ7PD7GVAVqpxeki0LLm072wJmV66fKc1KZlGvkOKf1vIkCL+X2f7JCNZJgf/QFhhWF5f1pjid20akouFoIJqMuila4+6IHfHhpx8MyC2o6c07lZHG6f6wqYYCi67fqTUBJYWJojqDWVzNopwwSWUMgxg3uS2lVdOxjo38sYqNgiR7y+oMtml5CsPDfGE8MDodmooAMlp9f8jCNyJwqdB2kAg6NiQBXtnOagf32Rgpo2ov23Clm7KnBdQ2XyuxKyknNPzeE1xLE8ITHsqOtU5RGgAyHaDpqFgIlT0kp66WuI4aM/M+IyWKrzxg7SDSCTu9HwD5puhlEh3tof7D0hvzVSkRu7WOUwGOWwoOm2BQRkGF+NKGfLSp4wl2h+o7/TOJL25kGlKOhPumC0MKo7M+2izyx3ogo28xHLFgcBQkjWi0R4hLcaoclu/lgojKTgcAmHapkK1mM9n0HU8gvpUWFy4wLmEWUfvAbh3NE4Yft8xg22GyEdTpaIhP/ObZ8UGNaes4WDNsVMhkKs5IjabEbRR0zJJtukVIqoF3jMFW3Z/35K2B/EMzfzQHT1TbE0pJYi3+ctw+MlEPIrXKfm37TDlSs1wJrHJUhmEnI23YBnyApn3/oJaw4+L3W3hm2NGnDif8Rn1Uv0nc9ktxYjpPYkJ8gJVzk2t6uSlE6hODrR1kaIsscGaahnfJQC8wEDHOOlkPXNhnILIrMzvjJWSJuGiT9hxd7P2DEHv9/PhPUOpKmcB1b5S0XWoTdj3IDIJTbAdfWI+LwOAgfEdui0Vr8uNO0fy6CR4ePN1WacKj11yzSk69U4izL/kOlRhPKzOp+V3CJVCUOnL4CUDdv+0XmKe/nclo2Du6q+GO/xppDUMgkfaIKClhOLxBPoRL/gklK/u74v7vHtTEBKfgGmKk/ml7qkxfT/6rn8MpAHnk3KrRqBd6WDH/5rF8Te1fA96Uwv/XZxgECw1Z2IjT3U3P5k73+CYfQuktVKINx70YywijIelPf+S61DTDg7ckmoP9mQUF7IYmfm6BrkC4wOt1+Tot90hmd/GeUhMo2ioi4BV/gS5ZuphXxMOckWhPjuxsvtEqx54005kURmlrkCG54nF+a3m6DoJpi7yKwrTc1yowl//vbQKZt8BMUoMWrGQf8NNtCjaOSCFzsIdjTH8ffJdq+f3Tqw2r2jYMcctx/GwBvz5wQiqttKGPD+R0K66rK5ydEvQry+MATNDqhmj9RNegfAml+8iqdGu0JnjHzz8NVwV1TfsJZUybb+1QVXHxDueuJihducFQXHvbSE2XWWIbwNpjJ26Q5rwxgYnGCA4G6QIpPs3j4vMFR/9+1wgeapow=
        clientKey: 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
        topics: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,carrier-predictor-v3,regatta-test
      tables:
        names: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,dns-search-domain,activation-profile,device-identity,regatta-test,performance_test_ghz_table_1,performance_test_ghz_table_2,performance_test_ghz_table_3,performance_test_ghz_table_4,performance_test_ghz_table_5,block-ca-cert-chains,customer-block-pages,carrier-predictor-v3,customer-settings,applicable-gateway-rules
      replication:
        server:
          hostname: regatta.dev.wandera.co.uk
      maintenance:
        token: AgABaxJ3JAI0XnJCoC+AmDK21lJolXjbAn80UO1eusLdWzds5If4MVrlKOeD6M8RcI3hwsUb316uXCLp7r+9LfsCVEtgz+Q9XzqWtzz2HNGszhro5ide+zs9KkvmaBmQaXPDmDIyO+G+MaI5+84EiP4DC9tRLVrVHNTBiRTjmIUdMMlBde8ekqMu6Owq8jTNk4vV4Wh/A3b2u4BFTUSuxik5NXtdLK5R+peyHJ1zFHQ88zJ6tbnudgeYmEo5SDTpo2ymbZosCL3G85AKGC2vUMxFzxQpHoWOnkS3DkHZDAJ4BUHB+PP9x7+PvSwtCYw+BUhG9hjk12+zpXF4/UYRfnhP19uMr+o2x+Q6xpLPmPZ+RBlS6yL9Dd+LPT2OnaOPVeGaHjED/SRi2/+jIO/QIroPOBmCNMLzdy30sB+C7smWlqUXBexv7S74Upv2G4oXyF1w3QOrBA8LOwcnGhjxryt29dST0w7Bf9RGW4n0kFhhDGYfPHVTQ68RK5Oyyr10mKP9DOBNbo5F4hdh+b9tcrWRdiSRujZPywNVDkAeL0g0GH1dFC2g/EkDuI+uXu1g9G/tyTuVCX/kaxHcUelXrt44Sng9QsWiIMDtWSnOeDFSOkCZA33Y6+1iIPvRYp8Ckd+a/kAN3x3te8StX1D9qd0qE+2EnLpc79jZgEe5r/ylnW0KZqiyrt1j4QU1bBR6YVnO2F4Di0HdhDnzXeLvdUdg/e6s4iD0WnBGFxgLaD9mQFN4SUQ=
        backup:
          enabled: true
          bucket: "s3://wandera-w2-development-regatta-backup-eu-west-1"
      alerts:
        grpcFailedRequests: 5
