# This chart is intended for testing the cold start.
# Check this wiki for more information: https://snappli.atlassian.net/l/c/dtBCzpii
apiVersion: v1

name: regatta
namespace: regatta

charts:
- .:
    values:
      mode: leader
      nameOverride: regatta-cold
      image:
        tag: {{ env "TAG" | default "latest" | quote }}
      externalLoadBalancer:
        externalDomain: reg-cold.dev.wandera.co.uk
        loadBalancerSourceRanges:
        - "89.197.44.224/29" #London Office
        - "185.219.166.114/32" #Brno Office Rozmaryn
        - "85.93.123.11/32" #Brno Office Moravak
        - "54.246.181.160/32" # VPN
        - "52.30.177.178/32"  # jes-101-dev.eu-west-1a.ie.wandera.co.uk
      reflectionAPI:
        enabled: true
      affinity:
        podAntiAffinity:
          topologyKey: kubernetes.io/zone
      persistence:
        storage:
          storageClassName: ebs-gp2-zone-agnostic
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 200Gi
      raft:
        initialMembers: "1=regatta-cold-0.regatta-cold.regatta.svc.cluster.local:5012,2=regatta-cold-1.regatta-cold.regatta.svc.cluster.local:5012,3=regatta-cold-2.regatta-cold.regatta.svc.cluster.local:5012"
        compactionOverhead: 200000
      kafka:
        brokers: kafka-core.int.dev.wandera.co.uk:9091
        groupID: regatta-cold-0-tables
        tls: true
        serverCert: AgASIQEvBXcGhPxWkdFHr3kwtaixpOjt2lstxqT0zbD9wE+iUHCG3rzLtfrCLJ3C8Ib0zyrx29y7Xqz0C4Nu3HOEXLB1gjVGxmb2y30d4rKWZJVZZO+b8auYTIwvtGoVsATvWdyJIPWYRdm5INAdMTfr4Cp2bOBJRGa5WZSlLrJ6UzLGK92r18Ydgn90pMJ2c+vJ8ZWoq3zX/Ad9/34scBhiThy2Ze+CaaRC7SKwLKl+0/bwa0Z9m28Q35uILXG22Ghu4ExXeHLIPA1jaxhh5tBA0YwwWFALO8lwDEihs9Mr3JqQfJ9GMrVLHpEBHf3CgPMgLrZ+uNLjGLzbBvSYE3ZZMs1bK7O+A0FPsWaBBq/q8BalvfYFRycChzHjheWesJh97bZ56o9qTd3c2Hvoskt1sHTFJVgat6qH68KLIRCQkoHf5SF8/XhM5BkHVFq1OpZJiwR2OvU6aLERXxHqEQiYfCaYT/nhlE/nbTQPiatOIRm2V8KZFxOTAgKWXo+b5JhnKe/QgJCUu/EscZJM2/UTDgrQz/q94+2TpDg7pIhkzp2HWc9BArX8V7kz08lzPv9yHbpcxPnrg5vyhovRJdQm1xywurRao00p+rANp4k8zN47HEb+6SaI4+QlRQmpXqqPvx51MHDSKevrelMrSYmhKsycx1lZOSZsLtWdpeWV+pxrJJ6PxsFSDnaREmE43l4oD0bDYGqKoEIHKqwQzmv2Gm+S9D5HKGImcHErfVZhFSs83QxA9HcWNLWthUBoNF2vXCIYXU4i+PQIjPvtCcK1S01K1/HcIH3bZBugWeCRGCUt8Sw5otgqrr1WIpAsIlTXF2FOaosJ0L9BcdU/Gm8PxdonMK1oHvCchPpEet9rMCrMLdgTC3CLw9DQ3PruhgIfE1f/5cQdZSJ7/JzBEcJgEW/M/+87cOc2+a7k0jkJNfMBxObjUjiAHqWBL5HqKdagj3+kCBdUCxBsQ8u1OAVzTsC07sqi1XTvBVMOCVfQOyO4+RRz/ZdPkgJfG5oqAK2hzli0CdyyEPEtQAj1gA7wWrPHI94H96VYEIZPffPYJPS+9OuBWydWhEzedRbo4L7l1bXR1oteAKfzufRa4BQ7clqfISwC6RF4pUEvHZFEudAidE90mdg0XYrRPsQmWVhZhRdc7VJNvq6d9KemTYTl05yGNUqoynZteKN8h5cBjmW/7aA01AEZ4Mo5a+15ua6gv6H+Hhz/c7mFXZ4kRGfkxXCKK+pKSPdljrvQKAim3Oa14NxX3Lwly/2d9Ulm40aoPgquVn/VKLaEE4TYAisFN4CP1XXDie7+b01pBnktcP0V9y5NUMS89cdP/3GpnSoOikHP93IRdL9hOl5ReJJasGp6yT/fyABDGkCGyC4W/Cr98Q+2l7niS8vIiUztQiP4d9HBwBHliRRS3Rci63qCz95l9v7deV70/Wk85xDMXL43UBoL3DMi/0ZFT2GP1bcvGmc9yjxw4Dwrnnjk92k4w0Q3rqUXjAHp4fg/2SCNljFr9N6PUBnOt4z33sjSIXLK4oH+qYqF/CK68PCnYKx4d7hHr/XFRDByZ5rG6hpv1/zjtXS+BCZd0X4AAovJjyeLuJKQXdaXQTa66sHueHcfjdEgdtbWKh+nJKf4RVmpG86lg1eNcP+Yr/cDwu/Co8sQ2KjjfAv9D+u2AjsthlSozer4g5CDH+4xgdxzNMvpMGBeafzn7+NORANB4U2n+B0Ir26KBKdKBIetShzQoonjrMxtJtld1CitC1cHsEPYvow/rUno/nHieQTKyoKCovZwDnxq6t3FK6++Dha2dE/oC4Z+xQsopn36oIEpzvYncXA+biuoWphLNouMibxHGRIVsPjApBEG8mBDLCsV6yWdPNyCiTJeSOt01VmuxdVk8P+PUEZO9EMJVWiw4Y0FkfeV1bat1cRtYPEZFPww9KwI9D6HsCs8DHT41iiQUUuHeTc7EHeZD+UUTytHhDZQEiZspKmhLbpxPQimwsUiir94F0pGUUFgtxu+gTP28at+szVxUoviyInu4whK7ozjF40CAWEt1ResfwiUEleIJRF5kF58z5ruCZ93Xiz9T66xfAx7Dl/DuQXRcgLn2e7EWWS2Bbl9QWKB7cibZEwJOS+MWSMDjYFB6W1b4fbSrmmMGDWdFNffSmlZssEIGdEtvyPsprdonj3VmmJ2Z0Ju7x5+cithF4rCow0IWfHtd7I2Pq9xcv6XKKV7BCE13zQeQAMw9V9Q8+PvpJ6HN88WY3mC1+ObwAuiRaW5YSxShIOR4TArEDL1wTt+vQ+jPn+QQccEgEShMGa6UJIA6/US0AWMyC4kyugzpV9Z7zNBZQKye5gKikAYuyStbQhwObTLwETMCdzr8ayh2i7k85cuk9Y3iXFLGOak3rnEAE3rvhCTDvh8XEFZpTX3Qmnw6Ndbw6xfwZlD9jRFDeqHNy7a7srr2hqoXE0xSAxKKEcZ8L4+WvzFeU/lVXmUEl0HTuNnTqfvQBsMgsU=
        clientCert:  AgDOl7dDqVaffbhWPemraV5p2T9SNUoZlEQxo9jGWpfguW71Tt8T0rTk7FtOh1OjO1FQ5/3zYIUAiE3U/ek94K1kRhg69+YagnrJFQqGMUQIFbpmdO1PsiqZ3mSAPXgm+ZXh6XkEAh9Q4oBEhilUzPVcqsmXZNMIJsLeyfyeYKV6/6s/VWMnRMN7AduwvFIcPhbSgdViLhtXhC/eyo3Gg/Es8saZjVrpWYs9l+FeRbrZadf2GTj9SHsL1q1UpUOKnmDb0SfrC7oUJkFGrenFcsg4o0hdyA9rhpUtyQs1Sbr9PloEwyg+hutzp+L7YvPGppe2HeOW5Ok9pZ1ennr6/PdaD8EeeUa+9nxmfkKGgy5ucb9WFNlvil2qEJefjGD8ZR2Fd/jTmQfGnlOxOktn3LvMHUUwC7OJyOWYlBAgovIUkn2N2GRCPqOAZD9Yx9S89ylSAVurtHBzzGNm1lOtAPiHbbpcE+TD9I3QZo+SM4AfmTTE7WN2SS9Y1HfQoMndgtv8tEON5xuyKZfTtsL2nJLoo8I66VdTk3Sy4yv08vKtlzUyYN2ZbYZFVeKnFwxnZQUYZJ5s4YolnfTYKYgtCGSc/CuDCxDV9ztTRnFHqSlNAq8/L5MAVravm34v9HSeztHItydAFoY6YLI9ef8eaJ4B608nSnGM8KQkTrjcHt3r6haOGQNJPGsQ/z/rV10H5I1BMy0gDJ7NOgBQrBFdKFQ3UCZPlr1asu0NdEXaqHNDYhS6MgCY1OkGVedRpKui/disrFpuZuyExirnOWOSs6CrN+NBbC8VQbyOJwFwIDkBxz5nGjCVh0Amc6G+olQ7O9KkYxl78Wbj0i/wl+hXxc4ma96NbSuUqUEOX6nQcmScIyd+ddLxxNo6YN0VCHqmUQv7JzTF8H5wp1LqCLOit1Bp4uftPGvkuE51SXK7yqnuXgxV93QQ8BUk6j4TCN3N2+f1nPP+6P9/WsNiVtL1/dP9BrlMnrW74dCp4GOPef2ihOKKjFI51sQevDgXQwdgTkh8W++Q6jSh+J71iGlNdf0xyRlV9hi+RSzoeHpMZbqGilKgpl72FT0iGIUT5RNhw8oJh9UUxzrQUXpWDA9GJHhfAGsoDagtlmDGZFCWgk2/gg0G3+YoC/VGkGMw2Et8XQSTkzQAPt1lFuaEbO2kuQWWG9mCJpbrQUSfYPt6oi57bcN0wTEvi5RX2jAzfMgOS/wRDzo5RHBzIWznSsA0wVrAqZMmKiKQClnaLDKvv7PjsKDQePasPREm5nvbZG67aG6aiOdzo6aSGxW+VY8utfiulforclCKQ0wRboiXNLA6+vRhfT+ZkAYbkEZOLJ/vFbDiH+3iuaEWbKpvkpqVI1X/Tw+1q9iHVwG0rl6dsw2vIz5qgoija7wObZFLMZBIBPKbP0QTZXJReZ9gQlRxOmBosNminYujWX5ldHekVH6aiOBwdRIeh31acuTWANybRidspeOX4NCeLHCu1XMqTJX/f50+23FU9EBz6SOT30gy07e5mfFZeDNuXk/qnvPWOsowGCGxzm5Cd5/5aHvaBCkyyQue9a8CaviF3xtkCCGXs2RQ7LukRWL8BeGNfWZgg8uivm5JcaqDw/zeV30pEhzkvOVjNg4cv+1YLJJePGwcjGwSHYCB5+JSG9AYPlSl3WB2ZpZaewtC/lZvwF/JBIdesgMRBCfuljuEdKSVR9/tnfSUEUXHuqvcgwWwZVjVX/ALQtZWhm2rdFO+SWMIM8Abg6XELaq3La50/LIcyi8J/didNKjPAAAlgXibFzY3RdwQRE3Ex4FnyNIRJbsSW8wLx+tWC8qnOLZwC+PVydAmQmvar1nGjgOSKCqqWtC0oGr19mAJOsLO3NGqBUru06fu3l4P80wY73nozkphDLsUvrGuOQhQ448GMNOHs9wMK0haefRdPC6zxtPreemL5t7dH7kztdKujg==
        clientKey: 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
        topics: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,regatta-test
      tables:
        names: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,regatta-test,performance_test_ghz_table_1,performance_test_ghz_table_2,performance_test_ghz_table_3,performance_test_ghz_table_4,performance_test_ghz_table_5
      replication:
        server:
          enabled: false
