# This chart is intended for testing the cold start.
# Check this wiki for more information: https://snappli.atlassian.net/l/c/dtBCzpii
apiVersion: v1

name: regatta
namespace: regatta

charts:
- .:
    values:
      mode: leader
      nameOverride: regatta-cold
      image:
        tag: {{ env "TAG" | default "latest" | quote }}
      externalLoadBalancer:
        externalDomain: reg-cold.dev.wandera.co.uk
        loadBalancerSourceRanges:
        - "89.197.44.224/29" #London Office
        - "185.219.166.114/32" #Brno Office Rozmaryn
        - "85.93.123.11/32" #Brno Office Moravak
        - "54.246.181.160/32" # VPN
        - "52.30.177.178/32"  # jes-101-dev.eu-west-1a.ie.wandera.co.uk
      reflectionAPI:
        enabled: true
      affinity:
        podAntiAffinity:
          topologyKey: kubernetes.io/hostname
      persistence:
        storage:
          storageClassName: ebs-gp2-zone-agnostic
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 200Gi
      resources:
        requests:
          cpu: 1.2
        limits:
          cpu: 2
      raft:
        initialMembers: "1=regatta-cold-0.regatta-cold.regatta.svc.cluster.local:5012,2=regatta-cold-1.regatta-cold.regatta.svc.cluster.local:5012,3=regatta-cold-2.regatta-cold.regatta.svc.cluster.local:5012"
        heartbeatRTT: 1
        electionRTT: 20
        snapshotEntries: 100000
        compactionOverhead: 200000
      kafka:
        brokers: kafka-core.int.dev.wandera.co.uk:9091
        groupID: regatta-cold-0-tables
        tls: true
        serverCert: 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
        clientCert:  AgCjXy2h7vyNCezqcal3XuKB+JELD1dCktYTv9maapkz1ZcJ1PeOQSlV3W9LBxWFDtlXbPntlSKGIGV8ho/IcPF1GjtvPe0232PhZacMS8HQdM8Q7ooVb5KLdj8k+oP/FoIAo+KJviNXmi2ovkDUw+DyyMpdiQXS+/w3D5gnS+4pnuy2GuwcQMBhC66YHKEY4tpneQM92VqPDOs+fEFN0JyCOmnsVeFoH1+HsJLZOf7i1xgp/515nSP3Usrpd+ITPpKdxBWo+9pOW5w5dtDthffq508t82ykEIY+695pom5EB6NSZ3ueAPe1j06MMbGrOk9lGn0sFqkCNS7jORS+LIyJmqqVLujbRN0wGhCuCNOZfsf3Tae9hWGsvdzrgqe2IKhk7ub5kVxM6PJxju149ZfeXhRGC5hCGbn1txp49KSr2rx+Mt8hHjR3Va2UFJ0FvRQ5T5VKItmB7lkNXLhU5xb8ssPFXIl6XFZh0kjOwzPvo1RNdFvXX0n0Bc2vAg1vm7D0vhmJqu/jsEIJP57S+nq2bq1c4Y1Wv/ANAuLu+4PdZccEC7oJWcukpZGHKiwbU40+xfRKapbOAKD36BJhJCjlRMTxp5Nph8wld/0dEm6eiVhLfP6lsJq1zpzqBU30MW6LtIpH8Sa8PBCer74i7Kpqw5BDO5pW3l24zxn0M90+112k7JidI3/UEIvMB8awLOK5Eucqsu77or2FhQpIVvlvYBaUv3UbYqjhpidbqRyQUUkGGqIgwh9Gfn5STd+m4P+dYlSkIcrwLhIy3WxiDBJMlAfg6fvAoZOAiSVLZEFc27hebkLcK70T3zlCll8v+HoN21RCU8K4uXG3KSGi9PLIYVC66Y4pnZIjQAwa5QNKc9DgatuAz9apDK0l1vTx68Ic6G6oCxHAJ4R7QyyEt6WOg1g3MT8UlBU1pHxBBHSHxFktYT2i7TueWTBJD0DvuTMueA/oEEJbgN079d2MQZ8j0yB1P+RSlWhcliKG/qcObdlfytybOMG3SXQ7ZaPtlYi0VJ0cQ/XRvMLjQrdqzoJV4gespuo3SGdhHsuGOifJlhw2lP1gxEKevBHz3q6Qp97YUFtbQtU4l6yAMlKCL70FW8JhZKA6ZCE6mscoIEUAq3gCrmIuiMMjqO6xJ9QxIL3sSqBfWrTXx3cMOIhTQmAI5IATKVX7V2QazFH+JQdtfbzD49JO+49DGEG9L3ilohuSnyNcb67MwjBKiHzIOzlDTuKsa5PnUy0B9BxUXrD/1o+VyfK6ME10qf3UzV3chJe+yEgLtcrORHCUGgT1Nga8Hfo+54sLA/KAL51F9eq67PyfNxyY/PNu7g2fDlA0teqOiutFWKX0SOK1GvUQbbZvvmyvMiZ3E8VlZN3A27QX5vIbkRNPWer4bjGblw9gXy11NY1FcCBPqKKhfX97hWJo0nLC9k73NVDUMwfuPqgClJ2MPAbTdH5rOkFBWPNl6ARg3LL/D2ZI4cuAcZT+O3qHA6wYEN7vDzDWx937rVGjjWR0WrBJMSoyIKstqjxxSe6yIchnekSSPKl1s0z5Yx/EUCkmu9lWDJsPRyCiHkyzZFqGoiZf2wjnHnBggQWWsyD0KCBuF/L3hPZfBod03/b/6zvjAXGvmwRJ6HgtObIL9asE64a7fDaIMbrAIR4qV8BdA63asy7y/qSQ2ChYfnvLP2SIXa4CmdEAH2+cgNUyq4UYp74y5z64pPEo/QKtRxzK671qFKmyHhcdmLGg3g3IVMHa3SfGsqVRcPvIlTXBhbrFv+Y+ipd5AnukEhg/nyJYhyq6404NSHw1wSXsRRwIq3aMGviuVkMAvpfUrYoaYWDHYYz2UDk6yi+67sugnIeG7ec5FzIiaFzbI4iJAgq23vCMPYRSjlPUKtLOfT+Bqf6Iw6hLUV5dhPvhWVMjygtqG/wsp7I5RiS4GsaC9IJaooxtZha4wXI=
        clientKey: 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
        topics: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,carrier-predictor-v3,regatta-test
      tables:
        names: applicable-cellular-data-policy,applicable-wifi-data-policy,applicable-secure-policy,applicable-device-secure-policy,dns-search-domain,activation-profile,device-identity,regatta-test,performance_test_ghz_table_1,performance_test_ghz_table_2,performance_test_ghz_table_3,performance_test_ghz_table_4,performance_test_ghz_table_5,block-ca-cert-chains,customer-block-pages,carrier-predictor-v3
      replication:
        server:
          hostname: regatta-cold.dev.wandera.co.uk
      maintenance:
        token: AgBM6c5Nry2LPC16li0NL1rJM9kCN5btm6IU/3jQqjpAEaQ4q2yfz9vK47Yrc/IGinhq1DoCsrfLOJ0gXEltZlAdBOY8BXScFQL0iVKkfSA9Dxwdh7TTveCB4CaRLDQVzuCXebdmUQ5nJZJFqKeY8y+w1oDIPSM71WArxR6X8vJaz80G3jrRT6xNAdOZeXTRIVgQ2v/lU2xLy/4HbVoqF8aST/AqR7/jc/xiBtFUo7fDdMU0y114roqsr3fgpkMJvu7pnV3TjwDeBQZXPFY0xDwIpkw5uNO1KPVq43JAhApAfcpWHnA41ksI1ag5HwUcE/rhue6vpwrb3vlc1lhV0gVhfIpt81/TiOj3uuOIL++jJXjLFuWJF8AXlaTn6YIvwb+pPsUgh3646lzqvaU2OXQBV77ekvSIfcwgdXrh6/B2gnNCCreE0atLJFsnymbpVmSVpcMj9dzBZlDRDaoXlO0+H5eMMi796SpwFuDUODQdGmY33cGZ3e1lLxYizQ6HLF46/wG0cQv4EQsZZADdWWbkAmNuy/x/PxwFRCMvuhHQsDAhXf9VYqUvAmiodgmRCLY0XMK8K6Nb4lVWkgrGIl4W9hSfkl7NPmWwNwtDCIyg4Uuxw8rOvm7cj5Xtj+u8rnYUWMFc+2aW4rwa1W0ONTnV1serl2Bmhfo8Njan92KBWXcMyBsF825iM/0MDPXu7+E0vE1gqdzDVA==
        backup:
          enabled: true
